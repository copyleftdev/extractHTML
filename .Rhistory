dim(listnames)
length(listnames)
head(listnames)
class(colnames)
dim(colnames)
head(colnames)
aaindex$BEGF750101
class(aaindex$ANDN920101)
View(aaindex)
firstRow<-aaindex[1,]
dim(aaindex)
data(aaindex)
df = as.matrix(sapply(aaindex,function(x) {x$I}))
dim(aaindex)
firstRow<-head(aaindex, 1)
class(aaindex)
dim(aaindex)
colnames(aaindex)
colnames(df)
dim(df)
aaindex
colnames(aaindex)
View(aaindex)
class(aaindex)
length(aaindex)
head(aaindex)
aaindex[1]
aaindex[1]$ANDN920101$D
names<-aaindex[1:544]$$D
names<-aaindex[1]$$D
names<-aaindex[1]$~D
y = sapply(aaindex,function(x) {x$D})
head(y)
class(y)
length(y)
write.csv(df, file="aaDataDictionary", row.names=TRUE)
getwd()
head(y)
dim(y)
length(y)
write.csv(y, file="aaDataDictionary", row.names=TRUE)
a*b*c=36
a+b+c->36
a+b+c<-36
A+B+C=13
install.packages("updateR")
install.packages("installr")
install.packages("installR")
install.packages("installr")
install.packages("updateR")
install.packages('devtools') #assuming it is not already installed
library(devtools)
install_github('andreacirilloac/updateR')
library(updateR)
if(!require(installr)) {
install.packages("installr"); require(installr)} #load / install+load installr
install_github('andreacirilloac/updateR')
install.packages("deSolve")
install.packages("lhs")
install.packages("apTreeSolve")
install.packages("apTreeshape")
example(lapply)
source('~/Downloads/MITII/R Code/SISMID-U2-bacteria.r')
MoonshotNames<-c("Family_ID",
"Patent_or_Publication_ID",
"Application_Number",
"Filing_Date",
"Grant_or_Publication_Date",
"CPC_Inventive",
"IPC_Secondary",
"USPC_Current_Original",
"Patent_Title",
"Drugs_and_Chemistry",
"Diagnostic_and_Surgical_Devices",
"Radiation_Measurement",
"Data_Science",
"Food_and_Nutrition",
"Model_Systems_and_Animals",
"Cells_and_Enzymes",
"Other_and_Preclassification",
"DNA_RNA_or_Protein_Sequence")
PatentCount<-269353
install.packages("rjson")
library(rjson)
json_file<-"https://developer.uspto.gov/ds-api/cancer_moonshot/v1/records"
json_data <- fromJSON(file=json_file)
source('~/.active-rstudio-document')
install.packages(c("stats","manipulate"))
install.packages("manipulate")
library(stats)
library(stats)
library(manipulate)
source('~/.active-rstudio-document')
lines   <- readLines("ipa170525.xml")
start   <- grep('<?xml version="1.0" encoding="UTF-8"?>',lines,fixed=T)
end     <- c(start[-1]-1,length(lines))
library(XML)
get.xml <- function(i) {
txt <- paste(lines[start[i]:end[i]],collapse="\n")
# print(i)
xmlTreeParse(txt,asText=T)
# return(i)
}
docs <- lapply(1:5,get.xml)
install.packages("XML")
getwd()
lines   <- readLines("ipa170525.xml")
start   <- grep('<?xml version="1.0" encoding="UTF-8"?>',lines,fixed=T)
end     <- c(start[-1]-1,length(lines))
install.packages("XML")
library(XML)
get.xml <- function(i) {
txt <- paste(lines[start[i]:end[i]],collapse="\n")
# print(i)
xmlTreeParse(txt,asText=T)
# return(i)
}
docs <- lapply(1:5,get.xml)
class(docs[[1]])
xml_data <- xmlToList(docs[[1]])
nam<-names(xml_data)
nam<-lapply(1:5, get_names)
get_names<- function(i){
names(docs[[i]])
}
nam<-lapply(1:5, get_names)
unlist(nam)
for(i in 1:5) {
namesi<-names(docs[[i]])
c(nam,namesi)
}
get_names<- function(i){
xml <- xmlToList(docs[[i]])
names(xml)
}
nam<-lapply(1:5, get_names)
unlist(nam)
unique(unlist(nam))
get_names<- function(i){
txt <- paste(lines[start[i]:end[i]],collapse="\n")
# print(i)
xml<-xmlToList(xmlTreeParse(txt,asText=T))
names(xml)
}
nam<-lapply(1:100, get_names)
unique(unlist(nam))
get_names<- function(i){
txt <- paste(lines[start[i]:end[i]],collapse="\n")
# print(i)
xml<-xmlToList(xmlTreeParse(txt,asText=T))
step<-i
names(xml)
}
nam2<-lapply(101:200, get_names)
unique(unlist(c(nam,nam2)))
get_names<- function(i){
txt <- paste(lines[start[i]:end[i]],collapse="\n")
print(i)
xml<-xmlToList(xmlTreeParse(txt,asText=T))
names(xml)
}
nam3<-lapply(201:300, get_names)
unique(unlist(c(nam,nam2,nam3)))
AllNames<-unique(unlist(c(nam,nam2,nam3)))
get_names<- function(i){
txt <- paste(lines[start[i]:end[i]],collapse="\n")
return(i)
xml<-xmlToList(xmlTreeParse(txt,asText=T))
names(xml)
}
get_names<- function(i){
txt <- paste(lines[start[i]:end[i]],collapse="\n")
return(i)
xml<-xmlToList(xmlTreeParse(txt,asText=T))
names(xml)
}
nam4<-lapply(301:400, get_names)
get_names<- function(i){
txt <- paste(lines[start[i]:end[i]],collapse="\n")
return(i)
xml<-xmlToList(xmlTreeParse(txt,asText=T))
names(xml)
}
nam5<-lapply(401:500, get_names)
nam4
remove(nam4)
remove(nam5)
get_names<- function(i){
txt <- paste(lines[start[i]:end[i]],collapse="\n")
print(i)
xml<-xmlToList(xmlTreeParse(txt,asText=T))
names(xml)
}
AllNames<-unique(unlist(lapply(1:length(start), get_names)))
length(AllNames)
txt <- paste(lines[start[1]:end[1]],collapse="\n")
xml<-xmlToList(xmlTreeParse(txt,asText=T))
xml<-unlist(xmlToList(xmlTreeParse(txt,asText=T)))
names(xml)
AllNames
get_names<- function(i){
txt <- paste(lines[start[i]:end[i]],collapse="\n")
print(i)
xml<-unlist(xmlToList(xmlTreeParse(txt,asText=T)))
names(xml)
}
do.call(rbind, c(nam,nam2,nam3))
txt <- paste(lines[start[2]:end[2]],collapse="\n")
print(paste0(i/length(start)*100,'%'))
xml<-unlist(xmlToList(xmlTreeParse(txt,asText=T)))
txt <- paste(lines[start[1]:end[1]],collapse="\n")
xml<-unlist(xmlToList(xmlTreeParse(txt,asText=T)))
txt <- paste(lines[start[2]:end[2]],collapse="\n")
xml2<-unlist(xmlToList(xmlTreeParse(txt,asText=T)))
xmllist<-lapply(1:2,get.xml)
get_xml<- function(i){
txt <- paste(lines[start[i]:end[i]],collapse="\n")
print(i)
unlist(xmlToList(xmlTreeParse(txt,asText=T)))
}
xmllist<-lapply(1:2,get_xml)
m <- do.call(rbindlist,xmllist)
m <- do.call(rbind,xmllist)
install.packages("data.table")
library(data.table)
m <- do.call(rbindlist,xmllist)
m <- rbindlist(xmllist)
listXML<- function(i){
txt <- paste(lines[start[i]:end[i]],collapse="\n")
print(i)
xmlToList(xmlTreeParse(txt,asText=T))
}
XMLlist<-lapply(1:2,listXML)
m <- do.call(rbindlist,XMLlist)
m <- do.call(rbind,XMLlist)
m <- rbindlist(XMLlist)
m <- rbindlist(XMLlist, fill=TRUE)
XMLtoString<- function(i){
txt <- paste(lines[start[i]:end[i]],collapse="\n")
print(i)
unlist(xmlToList(xmlTreeParse(txt,asText=T)))
}
XMLlist<-lapply(1:2,XMLtoString)
get_names<- function(i){
txt <- paste(lines[start[i]:end[i]],collapse="\n")
print(i)
xml<-unlist(xmlToList(xmlTreeParse(txt,asText=T)))
names(xml)
}
twoNames<-unique(unlist(lapply(1:2, get_names)))
XMLtoString<- function(i){
txt <- paste(lines[start[i]:end[i]],collapse="\n")
print(i)
xml<-unlist(xmlToList(xmlTreeParse(txt,asText=T)))
xml[twoNames]
}
XMLlist<-lapply(1:2,XMLtoString)
XMLs<-unlist(lapply(1:2,XMLtoString))
length(names(xml))
length(xml2[names(xml)])
print(paste0(i/length(start)*100,'%'))
print(round(paste0(i/length(start)*100,'%')))
print(paste0(round(i/length(start)*100),'%')))
print(paste0(round(i/length(start)*100),'%'))
print(paste0(round(i/length(start)*100, digits = 1),'%'))
print(paste0(round(1000/length(start)*100, digits = 1),'%'))
print(paste0(round(i/length(start)*100),'%'))
print(paste0(round(1000/length(start)*100),'%'))
get_names<- function(i){
txt <- paste(lines[start[i]:end[i]],collapse="\n")
print(paste0(round(1000/length(start)*100),'%'))
xml<-unlist(xmlToList(xmlTreeParse(txt,asText=T)))
names(xml)
}
get_names<- function(i){
txt <- paste(lines[start[i]:end[i]],collapse="\n")
print(paste0(round(1000/length(start)*100),'%'))
xml<-unlist(xmlToList(xmlTreeParse(txt,asText=T)))
names(xml)
}
AllNames<-unique(unlist(lapply(1:length(start), get_names)))
get_names<- function(i){
txt <- paste(lines[start[i]:end[i]],collapse="\n")
print(paste0(round(i/length(start)*100),'%'))
xml<-unlist(xmlToList(xmlTreeParse(txt,asText=T)))
names(xml)
}
AllNames<-unique(unlist(lapply(1:length(start), get_names)))
get_names<- function(i){
txt <- paste(lines[start[i]:end[i]],collapse="\n")
print(i)
xml<-unlist(xmlToList(xmlTreeParse(txt,asText=T)))
names(xml)
}
AllNames<-unique(unlist(lapply(1:length(start), get_names)))
length(AllNames)
saveRDS(AllNames,"AllNames.Rds")
save(AllNames,"AllNames.Rda")
save(AllNames,file="AllNames.Rda")
readRDS("AllNames.Rds")
AllNames<-readRDS("AllNames.Rds")
lines   <- readLines("ipa170525.xml")
start   <- grep('<?xml version="1.0" encoding="UTF-8"?>',lines,fixed=T)
end     <- c(start[-1]-1,length(lines))
AllNames<-readRDS("AllNames.Rds")
library(XML)
XMLtoString<- function(i){
txt <- paste(lines[start[i]:end[i]],collapse="\n")
print(i)
xml<-unlist(xmlToList(xmlTreeParse(txt,asText=T)))
xml[AllNames] #This makes the names & number of columns equal
}
XMLlist<-lapply(1:length(start),XMLtoString)
#install.packages("data.table")
library(data.table)
m <- rbindlist(XMLlist)
m <- do.call(rbind,XMLlist)
write.csv(m, "ipa170525.csv")
system("ls")
x1<-c("a","b", "C")
x2<-c("d","e","f")
cat(x1,x1)
cat(x1,x2)
save(x1)
save(x1, paste0(i,".csv"))
save(x1, file = paste0(i,".csv"))
i=1
save(x1, file = paste0(i,".csv"))
i=2
save(x2, file = paste0(i,".csv"))
i=2
save(x2, file = i)
save(x2, file = paste(i))
save(x1, file = paste(i))
i=1
save(x1, file = paste(i))
i=2
save(x2, file = paste(i))
system(paste("cat",1:2, sep = " "))
download.file(http://www.seed-db.com/investorgraph/investorview?investorid=6191828265074688, "6191828265074688", quiet = FALSE, mode = "w",
cacheOK = TRUE)
download.file(http://www.seed-db.com/investorgraph/investorview?investorid=6191828265074688, "6191828265074688", quiet = FALSE, mode = "w", cacheOK = TRUE)
download.file(www.seed-db.com/investorgraph/investorview?investorid=6191828265074688, "6191828265074688", quiet = FALSE, mode = "w", cacheOK = TRUE)
download.file(www.seed-db.com/investorgraph/investorview?investorid=6191828265074688, "6191828265074688", quiet = FALSE, method = "curl", mode = "w", cacheOK = TRUE)
download.file(www.seed-db.com/investorgraph, "6191828265074688", quiet = FALSE, method = "curl", mode = "w", cacheOK = TRUE)
library(XML)
tbl<- readHTMLTable("http://www.seed-db.com/investorgraph/investorview?investorid=6191828265074688", which=1)
View(tbl)
tbl<- readHTMLTable("http://www.seed-db.com/investorgraph/investorview?investorid=6191828265074688")
tbl<- readHTMLTable("http://www.seed-db.com/investorgraph/investorview?investorid=6191828265074688", which=1)
View(tbl)
investorid<-6191828265074688
write.csv(tbl, paste0(investorid,".csv"))
getwd()
View(tbl)
tbl<- readHTMLTable("http://www.seed-db.com/investorgraph/investorview?investorid=5562433020100608", which=1)
getwd()
inv<-read.csv("Accelerator Framework - SeedDB-Investors.csv")
View(inv)
getwd()
getwd()
getwd("/Users/marskar/GitHub/extractHTML")
setwd("/Users/marskar/GitHub/extractHTML")
for(i in 1:7124) {
investor<-as.character(inv[i,1])
investorid<-inv[i,2]
url<-inv[i,3]
tbl<- readHTMLTable(url, which=1)
write.csv(tbl, paste0(investor,".csv"))
}
for(i in 1:7124) {
investor<-as.character(inv[i,1])
investorid<-inv[i,2]
url<-as.character(inv[i,3])
tbl<- readHTMLTable(url, which=1)
write.csv(tbl, paste0(investor,".csv"))
}
for(i in 1:7124) {
investor<-as.character(inv[i,1])
investorid<-inv[i,2]
url<-as.character(inv[i,3])
tbl<- readHTMLTable(url, which=1)
write.csv(tbl, paste0(investor,".csv"))
}
as.character(inv[3,1])
as.character(inv[2,1])
as.character(inv[2,3])
get.html <- function(i) {
print(i)
investor<-as.character(inv[i,1])
investorid<-inv[i,2]
url<-as.character(inv[i,3])
tbl<- readHTMLTable(url, which=1)
write.csv(tbl, paste0(investor,".csv"))
}
lapply(1:7124,get.html)
lapply(3:7124,get.html)
tbl<- readHTMLTable(inv[3,3], which=1)
tbl<- readHTMLTable(inv[1,3], which=1)
tbl<- readHTMLTable(as.character(inv[1,3]), which=1)
tbl<- readHTMLTable(as.character(inv[2,3]), which=1)
tbl<- readHTMLTable(as.character(inv[4,3]), which=1)
as.character(inv[4,3])
get.html <- function(i) {
print(i)
investor<-as.character(inv[i,1])
investorid<-inv[i,2]
url<-as.character(inv[i,3])
urldata <- getURL(url)
tbl<- readHTMLTable(urldata, string,stringsAsFactors = FALSE)
write.csv(tbl, paste0(investor,".csv"))
}
lapply(1:7124,get.html)
library(RCurl)
install.packages("RCurl")
get.html <- function(i) {
print(i)
investor<-as.character(inv[i,1])
investorid<-inv[i,2]
url<-as.character(inv[i,3])
urldata <- getURL(url)
tbl<- readHTMLTable(urldata, string,stringsAsFactors = FALSE)
write.csv(tbl, paste0(investor,".csv"))
}
lapply(1:7124,get.html)
library(RCurl)
get.html <- function(i) {
print(i)
investor<-as.character(inv[i,1])
investorid<-inv[i,2]
url<-as.character(inv[i,3])
urldata <- getURL(url)
tbl<- readHTMLTable(urldata, string,stringsAsFactors = FALSE)
write.csv(tbl, paste0(investor,".csv"))
}
lapply(1:7124,get.html)
get.html <- function(i) {
print(i)
investor<-as.character(inv[i,1])
investorid<-inv[i,2]
url<-as.character(inv[i,3])
urldata <- getURL(url)
tbl<- readHTMLTable(urldata, stringsAsFactors = FALSE)
write.csv(tbl, paste0(investor,".csv"))
}
lapply(1:7124,get.html)
get.html <- function(i) {
print(i)
investor<-as.character(inv[i,1])
investorid<-inv[i,2]
url<-as.character(inv[i,3])
tbl<- readHTMLTable(url, which=1, stringsAsFactors = FALSE)
write.csv(tbl, paste0(investor,".csv"))
}
lapply(1:7124,get.html)
readHTMLTable(as.character(inv[4,3]), which=1, stringsAsFactors = FALSE)
readHTMLTable(as.character(inv[4,3]), stringsAsFactors = FALSE)
tbl<-readHTMLTable(as.character(inv[4,3]), stringsAsFactors = FALSE)
tbl<-readHTMLTable(as.character(inv[1,3]), stringsAsFactors = FALSE)
print(tbl)
get.html <- function(i) {
print(i)
investor<-as.character(inv[i,1])
investorid<-inv[i,2]
url<-as.character(inv[i,3])
tbl<- try(readHTMLTable(url, which=1, stringsAsFactors = FALSE))
write.csv(tbl, paste0(investor,".csv"))
}
lapply(1:7124,get.html)
get.html <- function(i) {
print(i)
investor<-as.character(inv[i,1])
investorid<-inv[i,2]
url<-as.character(inv[i,3])
try(tbl<- readHTMLTable(url, which=1, stringsAsFactors = FALSE))
write.csv(tbl, paste0(investor,".csv"))
}
lapply(1:7124,get.html)
tbl<- readHTMLTable("http://www.seed-db.com/investorgraph/investorview?investorid=4903702712287232", which=1)
inv[2,2]
inv[2,3]
remove(tbl)
get.html <- function(i) {
print(i)
investor<-as.character(inv[i,1])
investorid<-inv[i,2]
url<-as.character(inv[i,3])
try(tbl<- readHTMLTable(url, which=1, stringsAsFactors = FALSE))
write.csv(tbl, paste0(investor,".csv"))
}
lapply(1:7124,get.html)
get.html <- function(i) {
print(i)
investor<-as.character(inv[i,1])
investorid<-inv[i,2]
url<-as.character(inv[i,3])
try(tbl<- readHTMLTable(url, which=1, stringsAsFactors = FALSE))
try(write.csv(tbl, paste0(investor,".csv")))
}
lapply(1:7124,get.html)
tbl<- readHTMLTable("http://www.seed-db.com/investorgraph/investorview?investorid=4903702712287232", which=1)
write.csv(tbl, ".406 Ventures.csv")
getwd()
write.csv(tbl, "406 Ventures.csv")
length("abc")
nchar("abc")
nchar("http://www.seed-db.com/investorgraph/investorview?investorid=5778225418469376")
inv<-strtrim(inv[,3],77)
inv<-read.csv("Accelerator Framework - SeedDB-Investors.csv")
inv[,3]<-strtrim(inv[,3],77)
View(inv)
lapply(1:7124,get.html)
